<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lpm.shop.mapper.CategoriesMapper">
    <resultMap id="CategoriesResultMap" type="com.lpm.shop.entity.Categories">
        <id property="catId" column="cat_id"/>
        <result property="catName" column="cat_name"/>
        <result property="catPid" column="cat_pid"/>
        <result property="catLevel" column="cat_level"/>
        <result property="catDeleted" column="cat_deleted"/>
    </resultMap>

    <select id="getCategoriesList" resultMap="CategoriesResultMap">
        select cat_id,cat_name,cat_pid,cat_level,cat_deleted from category_inf
    </select>

    <insert id="addCategories">
        insert into category_inf(cat_level,cat_name,cat_pid,cat_deleted) value (#{level },#{name},#{pid},#{deleted})
    </insert>

    <update id="updateCategories">
        update category_inf set cat_name = #{catName} where cat_id = #{catId}
    </update>

    <delete id="deleteCategoriesById">
        delete from category_inf where cat_id = #{catId} or cat_pid = #{catId}
    </delete>
</mapper>